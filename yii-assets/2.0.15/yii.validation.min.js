yii.validation=function(e){var a={isEmpty:function(a){return null===a||void 0===a||e.isArray(a)&&0===a.length||""===a},addMessage:function(e,a,s){e.push(a.replace(/\{value\}/g,s))},required:function(s,t,i){var n=!1;if(void 0===i.requiredValue){var r="string"==typeof s||s instanceof String;(i.strict&&void 0!==s||!i.strict&&!a.isEmpty(r?e.trim(s):s))&&(n=!0)}else(!i.strict&&s==i.requiredValue||i.strict&&s===i.requiredValue)&&(n=!0);n||a.addMessage(t,i.message,s)},boolean:function(e,s,t){t.skipOnEmpty&&a.isEmpty(e)||(!t.strict&&(e==t.trueValue||e==t.falseValue)||t.strict&&(e===t.trueValue||e===t.falseValue)||a.addMessage(s,t.message,e))},string:function(e,s,t){t.skipOnEmpty&&a.isEmpty(e)||("string"==typeof e?void 0===t.is||e.length==t.is?(void 0!==t.min&&e.length<t.min&&a.addMessage(s,t.tooShort,e),void 0!==t.max&&e.length>t.max&&a.addMessage(s,t.tooLong,e)):a.addMessage(s,t.notEqual,e):a.addMessage(s,t.message,e))},file:function(a,i,n){var r=s(a,i,n);e.each(r,function(e,a){t(a,i,n)})},image:function(i,n,r,o){var l=s(i,n,r);e.each(l,function(s,i){if(t(i,n,r),"undefined"!=typeof FileReader){var l=e.Deferred();a.validateImage(i,n,r,l,new FileReader,new Image),o.push(l)}})},validateImage:function(e,a,s,t,i,n){n.onload=function(){!function(e,a,s,t){t.minWidth&&a.width<t.minWidth&&s.push(t.underWidth.replace(/\{file\}/g,e.name));t.maxWidth&&a.width>t.maxWidth&&s.push(t.overWidth.replace(/\{file\}/g,e.name));t.minHeight&&a.height<t.minHeight&&s.push(t.underHeight.replace(/\{file\}/g,e.name));t.maxHeight&&a.height>t.maxHeight&&s.push(t.overHeight.replace(/\{file\}/g,e.name))}(e,n,a,s),t.resolve()},n.onerror=function(){a.push(s.notImage.replace(/\{file\}/g,e.name)),t.resolve()},i.onload=function(){n.src=this.result},i.onerror=function(){t.resolve()},i.readAsDataURL(e)},number:function(e,s,t){t.skipOnEmpty&&a.isEmpty(e)||("string"!=typeof e||t.pattern.test(e)?(void 0!==t.min&&e<t.min&&a.addMessage(s,t.tooSmall,e),void 0!==t.max&&e>t.max&&a.addMessage(s,t.tooBig,e)):a.addMessage(s,t.message,e))},range:function(s,t,i){if(!i.skipOnEmpty||!a.isEmpty(s))if(i.allowArray||!e.isArray(s)){var n=!0;e.each(e.isArray(s)?s:[s],function(a,s){return-1!=e.inArray(s,i.range)||(n=!1,!1)}),void 0===i.not&&(i.not=!1),i.not===n&&a.addMessage(t,i.message,s)}else a.addMessage(t,i.message,s)},regularExpression:function(e,s,t){t.skipOnEmpty&&a.isEmpty(e)||(!t.not&&!t.pattern.test(e)||t.not&&t.pattern.test(e))&&a.addMessage(s,t.message,e)},email:function(e,s,t){if(!t.skipOnEmpty||!a.isEmpty(e)){var i=!0,n=/^((?:"?([^"]*)"?\s)?)(?:\s+)?(?:(<?)((.+)@([^>]+))(>?))$/.exec(e);if(null===n)i=!1;else{var r=n[5],o=n[6];t.enableIDN&&(r=punycode.toASCII(r),o=punycode.toASCII(o),e=n[1]+n[3]+r+"@"+o+n[7]),i=!(r.length>64)&&(!((r+"@"+o).length>254)&&(t.pattern.test(e)||t.allowName&&t.fullPattern.test(e)))}i||a.addMessage(s,t.message,e)}},url:function(e,s,t){if(!t.skipOnEmpty||!a.isEmpty(e)){t.defaultScheme&&!/:\/\//.test(e)&&(e=t.defaultScheme+"://"+e);var i=!0;if(t.enableIDN){var n=/^([^:]+):\/\/([^\/]+)(.*)$/.exec(e);null===n?i=!1:e=n[1]+"://"+punycode.toASCII(n[2])+n[3]}i&&t.pattern.test(e)||a.addMessage(s,t.message,e)}},trim:function(s,t,i){var n=s.find(t.input),r=n.val();return i.skipOnEmpty&&a.isEmpty(r)||(r=e.trim(r),n.val(r)),r},captcha:function(s,t,i){if(!i.skipOnEmpty||!a.isEmpty(s)){var n=e("body").data(i.hashKey);n=null==n?i.hash:n[i.caseSensitive?0:1];for(var r=i.caseSensitive?s:s.toLowerCase(),o=r.length-1,l=0;o>=0;--o)l+=r.charCodeAt(o);l!=n&&a.addMessage(t,i.message,s)}},compare:function(s,t,i,n){if(!i.skipOnEmpty||!a.isEmpty(s)){var r,o=!0;if(void 0===i.compareAttribute)r=i.compareValue;else for(var l=n.data("yiiActiveForm").attributes,m=l.length-1;m>=0;m--)l[m].id===i.compareAttribute&&(r=e(l[m].input).val());switch("number"===i.type&&(s=parseFloat(s),r=parseFloat(r)),i.operator){case"==":o=s==r;break;case"===":o=s===r;break;case"!=":o=s!=r;break;case"!==":o=s!==r;break;case">":o=s>r;break;case">=":o=s>=r;break;case"<":o=s<r;break;case"<=":o=s<=r;break;default:o=!1}o||a.addMessage(t,i.message,s)}},ip:function(e,s,t){if(!t.skipOnEmpty||!a.isEmpty(e)){var i=null,n=null,r=new RegExp(t.ipParsePattern).exec(e);if(r&&(i=r[1]||null,e=r[2],n=r[4]||null),!0!==t.subnet||null!==n)if(!1!==t.subnet||null===n)if(!1!==t.negation||null===i)6==(-1===e.indexOf(":")?4:6)?(new RegExp(t.ipv6Pattern).test(e)||a.addMessage(s,t.messages.message,e),t.ipv6||a.addMessage(s,t.messages.ipv6NotAllowed,e)):(new RegExp(t.ipv4Pattern).test(e)||a.addMessage(s,t.messages.message,e),t.ipv4||a.addMessage(s,t.messages.ipv4NotAllowed,e));else a.addMessage(s,t.messages.message,e);else a.addMessage(s,t.messages.hasSubnet,e);else a.addMessage(s,t.messages.noSubnet,e)}}};function s(a,s,t){if("undefined"==typeof File)return[];var i=e(a.input,a.$form).get(0).files;return i?0===i.length?(t.skipOnEmpty||s.push(t.uploadRequired),[]):t.maxFiles&&t.maxFiles<i.length?(s.push(t.tooMany),[]):i:(s.push(t.message),[])}function t(e,a,s){if(s.extensions&&s.extensions.length>0){var t=e.name.lastIndexOf("."),i=~t?e.name.substr(t+1,e.name.length).toLowerCase():"";~s.extensions.indexOf(i)||a.push(s.wrongExtension.replace(/\{file\}/g,e.name))}s.mimeTypes&&s.mimeTypes.length>0&&(function(e,a){for(var s=0,t=e.length;s<t;s++)if(new RegExp(e[s]).test(a))return!0;return!1}(s.mimeTypes,e.type)||a.push(s.wrongMimeType.replace(/\{file\}/g,e.name))),s.maxSize&&s.maxSize<e.size&&a.push(s.tooBig.replace(/\{file\}/g,e.name)),s.minSize&&s.minSize>e.size&&a.push(s.tooSmall.replace(/\{file\}/g,e.name))}return a}(jQuery);